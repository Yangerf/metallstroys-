<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ú–µ—Ç–∞–ª–ª–æ—Å—Ç—Ä–æ–π –ö–ª–∏–∫–µ—Ä</title>
<style>
    body {
        background:#1a2a6c; color:white; font-family:Arial; text-align:center;
        margin:0; padding:20px;
    }
    .stats { display:flex; justify-content:center; gap:20px; margin:20px 0; }
    .card { background:#0003; padding:10px 20px; border-radius:10px; }
    .coin {
        width:120px; height:120px; background:gold; border-radius:50%;
        display:flex; align-items:center; justify-content:center;
        font-size:40px; color:brown; margin:auto; cursor:pointer;
        box-shadow:0 0 15px gold;
    }
    button { margin:5px; padding:8px 15px; border:none; border-radius:5px;
        background:#4CAF50; color:white; cursor:pointer; }
    button:disabled { background:#777; }
    .shop { margin-top:20px; }
    .row { margin:10px 0; }
</style>
</head>
<body>

<h1>–ú–µ—Ç–∞–ª–ª–æ—Å—Ç—Ä–æ–π –ö–ª–∏–∫–µ—Ä</h1>

<div class="stats">
    <div class="card">–ë–∞–ª–∞–Ω—Å: <span id="money">0</span> –ú</div>
    <div class="card">–î–æ—Ö–æ–¥: <span id="income">0</span> –ú/—Å–µ–∫</div>
    <div class="card">–ì–æ–ª–æ–¥: <span id="hunger">100</span>%</div>
</div>

<div class="coin" id="coin">–ú</div>

<h2>–ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä</h2>
<div class="row">
    –£—Ä–æ–≤–µ–Ω—å: <span id="autoLvl">0</span>  
    | –î–æ—Ö–æ–¥: +<span id="autoInc">0</span>/—Å–µ–∫  
    | –¶–µ–Ω–∞: <span id="autoCost">500</span> –ú  
</div>
<button id="autoBtn" onclick="upgradeAuto()">–£–ª—É—á—à–∏—Ç—å</button>

<h2>–ï–¥–∞</h2>
<div class="shop">
    <button onclick="buyFood(5,5)">üçè –Ø–±–ª–æ–∫–æ (+5%) ‚Äî 5 –ú</button>
    <button onclick="buyFood(10,10)">ü•ñ –•–ª–µ–± (+10%) ‚Äî 10 –ú</button>
    <button onclick="buyFood(25,25)">üç≤ –°—É–ø (+25%) ‚Äî 25 –ú</button>
</div>

<h2>–ì–∞—Ä–∞–∂</h2>
<div class="shop">
    <button id="bikeBtn" onclick="buyCar('–í–µ–ª–æ—Å–∏–ø–µ–¥',0)">üö≤ –í–µ–ª–æ—Å–∏–ø–µ–¥ ‚Äî –ë–µ—Å–ø–ª–∞—Ç–Ω–æ</button>
    <button id="ladaBtn" onclick="buyCar('–õ–∞–¥–∞',600000)">üöó –õ–∞–¥–∞ ‚Äî 600 000 –ú</button>
</div>
–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç: <span id="car">üö≤ –í–µ–ª–æ—Å–∏–ø–µ–¥</span>

<h2>–ë–∏–∑–Ω–µ—Å—ã</h2>
<div class="shop">
    <button id="b1" onclick="buyBiz(10000,10,'b1')">üè≠ –ó–∞–≤–æ–¥ ‚Äî 10 000 –ú (+10/—Å–µ–∫)</button>
    <button id="b2" onclick="buyBiz(50000,30,'b2')">üõí –ü—è—Ç—ë—Ä–æ—á–∫–∞ ‚Äî 50 000 –ú (+30/—Å–µ–∫)</button>
</div>

<h2>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</h2>
<button onclick="saveGame()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
<button onclick="loadGame()">üîÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
<button onclick="resetGame()">üóë –ù–æ–≤–∞—è –∏–≥—Ä–∞</button>

<script>
let money = 0;
let income = 0;
let hunger = 100;

let autoLvl = 0;
let autoInc = 0;
let car = '–í–µ–ª–æ—Å–∏–ø–µ–¥';
let businesses = { b1: false, b2: false };

document.getElementById("coin").onclick = () => {
    // –ù–µ –¥–∞—ë–º –∫–ª–∏–∫–∞—Ç—å –µ—Å–ª–∏ –≥–æ–ª–æ–¥ 0
    if (hunger === 0) return;
    money++;
    update();
};

function upgradeAuto() {
    let cost = 500 * (2 ** autoLvl);
    if (money < cost) return;
    money -= cost;
    autoLvl++;
    autoInc = 2 ** autoLvl;
    update();
}

function buyFood(cost, hungerPlus) {
    if (money < cost || hunger === 100) return;
    money -= cost;
    hunger = Math.min(100, hunger + hungerPlus);
    update();
}

function buyCar(name, cost) {
    if (car === name) return; // –£–∂–µ –∫—É–ø–ª–µ–Ω–æ
    if (money < cost) return;
    money -= cost;
    car = name;
    document.getElementById("car").innerText = car === '–í–µ–ª–æ—Å–∏–ø–µ–¥' ? "üö≤ –í–µ–ª–æ—Å–∏–ø–µ–¥" : "üöó –õ–∞–¥–∞";
    // –û—Ç–∫–ª—é—á–∏—Ç—å –∫–Ω–æ–ø–∫—É –∫—É–ø–ª–µ–Ω–Ω–æ–π –º–∞—à–∏–Ω—ã
    document.getElementById("bikeBtn").disabled = (car === '–í–µ–ª–æ—Å–∏–ø–µ–¥');
    document.getElementById("ladaBtn").disabled = (car === '–õ–∞–¥–∞');
    update();
}

function buyBiz(cost, inc, id) {
    if (businesses[id]) return; // –£–∂–µ –∫—É–ø–ª–µ–Ω–æ
    if (money < cost) return;
    money -= cost;
    income += inc;
    businesses[id] = true;
    document.getElementById(id).disabled = true;
    update();
}

function update() {
    document.getElementById("money").innerText = money;
    document.getElementById("income").innerText = income + autoInc;
    document.getElementById("hunger").innerText = hunger;
    document.getElementById("autoLvl").innerText = autoLvl;
    document.getElementById("autoInc").innerText = autoInc;
    document.getElementById("autoCost").innerText = 500 * (2 ** autoLvl);

    // –ê–≤—Ç–æ-–∫–ª–∏–∫–µ—Ä –∫–Ω–æ–ø–∫–∞ –¥–∏–∑—ç–π–±–ª –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ –¥–µ–Ω–µ–≥
    let autoCost = 500 * (2 ** autoLvl);
    document.getElementById("autoBtn").disabled = (money < autoCost);

    // –î–∏–∑—ç–π–±–ª –∫–Ω–æ–ø–æ–∫ –ø–æ–∫—É–ø–∫–∏ –º–∞—à–∏–Ω
    document.getElementById("bikeBtn").disabled = (car === '–í–µ–ª–æ—Å–∏–ø–µ–¥');
    document.getElementById("ladaBtn").disabled = (car === '–õ–∞–¥–∞');

    // –î–∏–∑—ç–π–±–ª–∏–º –±–∏–∑–Ω–µ—Å—ã –µ—Å–ª–∏ –∫—É–ø–ª–µ–Ω—ã –∏–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–µ–Ω–µ–≥
    document.getElementById("b1").disabled = businesses.b1 || (money < 10000);
    document.getElementById("b2").disabled = businesses.b2 || (money < 50000);

    // –ì–æ–ª–æ–¥–∞ –Ω–µ—Ç ‚Äî –∫–ª–∏–∫–∏/–¥–æ—Ö–æ–¥–∞ –Ω–µ –¥–∞—ë–º
    if (hunger === 0) {
        document.getElementById("coin").style.opacity = 0.4;
    } else {
        document.getElementById("coin").style.opacity = 1;
    }
}

// –î–æ—Ö–æ–¥ –∏ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –≥–æ–ª–æ–¥–∞ —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É
setInterval(() => {
    if (hunger > 0) {
        money += income + autoInc;
        hunger = Math.max(0, hunger - 1);
        update();
    }
}, 1000);

// –°–æ—Ö—Ä–∞–Ω—è–µ–º –í–°–ï –Ω–æ–≤—ã–µ –ø–æ–ª—è
function saveGame() {
    localStorage.setItem("save", JSON.stringify({
        money, income, hunger, autoLvl, autoInc, car, businesses
    }));
}

function loadGame() {
    let d = JSON.parse(localStorage.getItem("save")||"{}");
    money = d.money||0;
    income = d.income||0;
    hunger = d.hunger||100;
    autoLvl = d.autoLvl||0;
    autoInc = d.autoInc||0;
    car = d.car || '–í–µ–ª–æ—Å–∏–ø–µ–¥';
    businesses = d.businesses || { b1: false, b2: false };

    document.getElementById("car").innerText = car === '–í–µ–ª–æ—Å–∏–ø–µ–¥' ? "üö≤ –í–µ–ª–æ—Å–∏–ø–µ–¥" : "üöó –õ–∞–¥–∞";
    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∏–∑—ç–π–±–ª—ã –±–∏–∑–Ω–µ—Å–æ–≤
    if (businesses.b1) document.getElementById("b1").disabled = true;
    if (businesses.b2) document.getElementById("b2").disabled = true;
    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –≥–∞—Ä–∞–∂–∞
    document.getElementById("bikeBtn").disabled = (car === '–í–µ–ª–æ—Å–∏–ø–µ–¥');
    document.getElementById("ladaBtn").disabled = (car === '–õ–∞–¥–∞');

    update();
}

function resetGame() {
    localStorage.removeItem("save");
    location.reload();
}

update();
</script>

</body>
</html>